Лучше не использовать printf/scanf для чисел с плавающей точкой, т. к. спецификаторы для разных компиляторов могут различаться
Спецификаторы для printf:
float, double: %[.precision]f
long double: %[.precision]Lf ,но на кфе на GNU G++11 5.1.0 вообще хз как :)
Спецификаторы для scanf:
float: %f
double: %lf
long double %Lf, но локально и на кфе на  GNU G++11 5.1.0 хз как :)

Для рандомных чисел использовать mt19937, он генерит числа в диапазоне от 0 до 2^32-1, инициализация: mt19937( time(0) ) gen, шафлить массив можно так: shuffle(begin, end, gen).
